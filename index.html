<!DOCTYPE html>
<html lang="en">
	
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Humber River Data Visualization </title>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Playwrite+DE+Grund:wght@100..400&display=swap" rel="stylesheet">

        <!-- Stylesheet -->
        <link rel="stylesheet" href="style.css">
        
    </head>

    <body class="background_1">

        <div class="outer">
            <div class="div_2">
                <!-- Sliders (Inverted container, so top slider starts at the bottom.) -->

                    <!-- WORMS -->
                    <div class="slider_container">
                        <h4 class="slider_name"> Worms </h4>
                        <input type="range" min="0" max="100" value="0" class="slider" id="slider_worms">
                    </div>

                    <!-- MIDGES -->
                    <div class="slider_container">
                        <h4 class="slider_name"> Midges </h4>
                        <input type="range" min="0" max="100" value="0" class="slider" id="slider_midges">
                    </div>
                    
                    <!-- SOWBUGS -->
                    <div class="slider_container">
                        <h4 class="slider_name"> Sowbugs </h4>
                        <input type="range" min="0" max="100" value="0" class="slider" id="slider_sowbugs">
                    </div>
                    
                    <!-- SNAILS -->
                    <div class="slider_container">
                        <h4 class="slider_name"> Snails </h4>
                        <input type="range" min="0" max="100" value="0" class="slider" id="slider_snails">
                    </div>

                    <!-- SPECIES -->
                    <div class="slider_container">
                        <h4 class="slider_name"> Species </h4>
                        <input type="range" min="0" max="28" value="0" class="slider" id="slider_species">
                    </div>
                    
                    <!-- DOMINANT SPECIES -->
                    <div class="slider_container">
                        <h4 class="slider_name"> Dominant Species </h4>
                        <input type="range" min="0" max="100" value="0" class="slider" id="slider_d_species">
                    </div>
                    
                    <!-- EPT INDEX -->
                    <div class="slider_container">
                        <h4 class="slider_name"> EPT Index </h4>
                        <input type="range" min="0" max="100" value="0" class="slider" id="slider_ept">
                    </div>

                    <!-- FLIES -->
                    <div class="slider_container">
                        <h4 class="slider_name"> Flies </h4>
                        <input type="range" min="0" max="100" value="0" class="slider" id="slider_flies">
                    </div>

                    <!-- INSECTS -->
                    <div class="slider_container">
                        <h4 class="slider_name"> Insects </h4>
                        <input type="range" min="0" max="100" value="0" class="slider" id="slider_insects">
                    </div>

                    <!-- HBI INDEX -->
                    <div class="slider_container">
                        <h4 class="slider_name"> HBI Index </h4>
                        <input type="range" min="1" max="8" value="0" class="slider" id="slider_hbi">
                    </div>
            </div>
        </div>
    </body>



    
<script>
    /* Slider color changer for sliders with percentages */
    class SliderColorController {
        constructor(sliderId, max_1, min_1, max_2, max_3) {
            this.slider = document.getElementById(sliderId);
            this.maxValue = this.slider.max;

            this.max_1 = max_1;
            this.min_1 = min_1;
            this.max_2 = max_2;
            this.max_3 = max_3;
            
            this.slider.addEventListener('input', () => {
                this.updateSliderColor();
            });
        }

        // Method to update slider color based on its value
        updateSliderColor() {
            const currentValue = this.slider.value;

            // Add or remove the 'slider-green' class based on the value
            if (currentValue <= this.maxValue * this.max_1) {
                this.slider.classList.add('slider-green');
            } else {
                this.slider.classList.remove('slider-green');
            }

            // Add or remove the 'slider-yellow' class based on the value
            if (currentValue >= this.maxValue * this.min_1 && currentValue <= this.maxValue * this.max_2) {
                this.slider.classList.add('slider-yellow');
            } else {
                this.slider.classList.remove('slider-yellow');
            }

            // Add or remove the 'slider-red' class based on the value
            if (currentValue >= this.maxValue * this.max_3) {
                this.slider.classList.add('slider-red');
            } else {
                this.slider.classList.remove('slider-red');
            }
        }
    }

 /*
    document.getElementById('slider_worms').addEventListener('input', function () {
        const slider = this;
        const maxValue = slider.max;
        const currentValue = slider.value;

        if (currentValue <= maxValue * 0.10) {
            slider.classList.add('slider-green');
        } else {
            slider.classList.remove('slider-green');
        }

        if ((currentValue >= maxValue * 0.11) && (currentValue <= maxValue * 0.30)) {
            slider.classList.add('slider-yellow');
        } else {
            slider.classList.remove('slider-yellow');
        }
 
        if (currentValue >= maxValue * 0.31) {
            slider.classList.add('slider-red');
        } else {
            slider.classList.remove('slider-red');
        }
        
    });
*/

    /* WORMS slider color */
    new SliderColorController('slider_worms', 0.10, 0.11, 0.30, 0.31);

    /* MIDGES slider color */
    new SliderColorController('slider_midges', 0.10, 0.11, 0.40, 0.41);

    /* SOWBUGS slider color */
    new SliderColorController('slider_sowbugs', 0.00, 0.01, 0.05, 0.06);

    /* SNAILS slider color */
    new SliderColorController('slider_snails', 0.00, 0.01, 0.10, 0.11);

    /* SPECIES slider color */
    document.getElementById('slider_species').addEventListener('input', function () {
        const slider = this;
        const currentValue = slider.value;

        if (currentValue <= 10) {
            slider.classList.add('slider-red');
        } else {
            slider.classList.remove('slider-red');
        }

        if (currentValue == 11) {
            slider.classList.add('slider-yellow');
        } else {
            slider.classList.remove('slider-yellow');
        }
 
        if (currentValue >= 12) {
            slider.classList.add('slider-green');
        } else {
            slider.classList.remove('slider-green');
        }
        
    });

    /* DOMINANT SPECIES slider color */
    new SliderColorController('slider_sowbugs', 0.40, 0.41, 0.45, 0.46);

    /* EPT INDEX SPECIES slider color */
    new SliderColorController('slider_sowbugs', 0.11, 0.10, 0.06, 0.05);

</script>
</html>